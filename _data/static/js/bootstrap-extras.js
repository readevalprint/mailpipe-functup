{
  "content_type": "text/javascript",
  "base64content": "JChmdW5jdGlvbigpCnsKCiAgICAvLyBGb3JtIGNzcyB0d2Vha3MuCiAgICAkKCcubWlkZGxlIGlu\ncHV0OnRleHQsIC5taWRkbGUgaW5wdXQ6cGFzc3dvcmQsIHRleHRhcmVhJykubm90KCdbY2xhc3Nd\nJykuYWRkQ2xhc3MoJ2lucHV0LXhsYXJnZScpOwogICAgJCgnLmNvbnRyb2wtZ3JvdXAgbGFiZWwn\nKS5hZGRDbGFzcygnY29udHJvbC1sYWJlbCcpOwoKCiAgICB2YXIgJGRyb3Bkb3ducyA9ICQoJ2xp\nLmRyb3Bkb3duJyk7IC8vIFNwZWNpZnlpbmcgdGhlIGVsZW1lbnQgaXMgZmFzdGVyIGZvciBvbGRl\nciBicm93c2VycwogICAgLyoqCiAgICAgKiBNb3VzZSBldmVudHMKICAgICAqCiAgICAgKiBAZGVz\nY3JpcHRpb24gTWltaWMgaG92ZXJJbnRlbnQgcGx1Z2luIGJ5IHdhaXRpbmcgZm9yIHRoZSBtb3Vz\nZSB0byAnc2V0dGxlJyB3aXRoaW4gdGhlIHRhcmdldCBiZWZvcmUgdHJpZ2dlcmluZwogICAgICov\nCiAgICAkZHJvcGRvd25zCiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIC8vIE1v\ndXNlZW50ZXIgKHVzZWQgd2l0aCAuaG92ZXIoKSkgZG9lcyBub3QgdHJpZ2dlciB3aGVuIHVzZXIg\nZW50ZXJzIGZyb20gb3V0c2lkZSBkb2N1bWVudCB3aW5kb3cKICAgICAgICB7CiAgICAgICAgICAg\nIHZhciAkdGhpcyA9ICQodGhpcyk7CiAgICAgICAgICAgIGlmICgkdGhpcy5wcm9wKCdob3ZlclRp\nbWVvdXQnKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHRoaXMucHJvcCgnaG92ZXJU\naW1lb3V0JywgY2xlYXJUaW1lb3V0KCR0aGlzLnByb3AoJ2hvdmVyVGltZW91dCcpKSk7CiAgICAg\nICAgICAgIH0KICAgICAgICAgICAgJHRoaXMucHJvcCgnaG92ZXJJbnRlbnQnLCBzZXRUaW1lb3V0\nKGZ1bmN0aW9uKCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3Mo\nJ29wZW4nKTsKICAgICAgICAgICAgfSwgMjUwKSk7CiAgICAgICAgfSkKICAgICAgICAub24oJ21v\ndXNlbGVhdmUnLCBmdW5jdGlvbigpCiAgICAgICAgewogICAgICAgICAgICB2YXIgJHRoaXMgPSAk\nKHRoaXMpOwogICAgICAgICAgICBpZiAoJHRoaXMucHJvcCgnaG92ZXJJbnRlbnQnKSkKICAgICAg\nICAgICAgewogICAgICAgICAgICAgICAgJHRoaXMucHJvcCgnaG92ZXJJbnRlbnQnLCBjbGVhclRp\nbWVvdXQoJHRoaXMucHJvcCgnaG92ZXJJbnRlbnQnKSkpOwogICAgICAgICAgICB9CiAgICAgICAg\nICAgICR0aGlzLnByb3AoJ2hvdmVyVGltZW91dCcsIHNldFRpbWVvdXQoZnVuY3Rpb24oKQogICAg\nICAgICAgICB7CiAgICAgICAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnb3BlbicpOwogICAg\nICAgICAgICB9LCAyNTApKTsKICAgICAgICB9KTsKICAgIC8qKgogICAgICogVG91Y2ggZXZlbnRz\nCiAgICAgKgogICAgICogQGRlc2NyaXB0aW9uIFN1cHBvcnQgY2xpY2sgdG8gb3BlbiBpZiB3ZSdy\nZSBkZWFsaW5nIHdpdGggYSB0b3VjaHNjcmVlbgogICAgICovCiAgICBpZiAoJ29udG91Y2hzdGFy\ndCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KQogICAgewogICAgICAgICRkcm9wZG93bnMu\nZWFjaChmdW5jdGlvbigpCiAgICAgICAgewogICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMp\nOwogICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlv\nbihlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9\nPT0gMSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRv\ndWNoIGV2ZW50cyB3aXRoaW4gZHJvcGRvd24gYnViYmxpbmcgZG93biB0byBkb2N1bWVudAogICAg\nICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAg\nLy8gVG9nZ2xlIGhvdmVyCiAgICAgICAgICAgICAgICAgICAgaWYgKCEkdGhpcy5oYXNDbGFzcygn\nb3BlbicpKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g\nUHJldmVudCBsaW5rIG9uIGZpcnN0IHRvdWNoCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChl\nLnRhcmdldCA9PT0gdGhpcyB8fCBlLnRhcmdldC5wYXJlbnROb2RlID09PSB0aGlzKQogICAgICAg\nICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnRE\nZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAg\nICAgLy8gSGlkZSBvdGhlciBvcGVuIGRyb3Bkb3ducwogICAgICAgICAgICAgICAgICAgICAgICAk\nZHJvcGRvd25zLnJlbW92ZUNsYXNzKCdvcGVuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICR0\naGlzLmFkZENsYXNzKCdvcGVuJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBIaWRlIGRy\nb3Bkb3duIG9uIHRvdWNoIG91dHNpZGUKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQu\nYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGNsb3NlRHJvcGRvd24gPSBmdW5jdGlvbihl\nKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBl\nLnN0b3BQcm9wYWdhdGlvbigpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLnJl\nbW92ZUNsYXNzKCdvcGVuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5y\nZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgY2xvc2VEcm9wZG93bik7CiAgICAgICAg\nICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAg\nIH0KICAgICAgICAgICAgfSwgZmFsc2UpOwogICAgICAgIH0pOwogICAgfQp9KTsK\n"
}